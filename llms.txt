# autograph

![autograph logo](reference/figures/logo.png)

## About the package

This package aims to make network visualisation *easier*, *succinct*,
and *consistent*. Visualisation is a key part of the research process,
from the initial exploration of data to the analysis of results and the
presentation of findings in publications. However, it is often a tedious
and time-consuming task. Trying to wrangle these into a consistent style
for publication or presentation can be frustrating and requires a lot of
code. While there are a number of excellent packages for network
analysis in R, they each face several of the following challenges when
it comes to visualisation:

  - defaults are often not sensible for different types of networks
  - customisation can sometimes be difficult
  - some require multiple lines of code to even produce a graph or plot
  - most require multiple lines of code to produce a graph or plot that
    is styled suitable for publication or presentation
  - such style code needs to be repeated every time a graph or plot is
    produced if a consistent style is to be maintained
  - defaults and syntax are different for different packages, so a
    workflow using multiple packages must adapt to multiple syntaxes
  - different visual defaults can frustrate interpretation, and
    potentially invites errors when comparing plots from different
    packages
  - some plotting methods are available for some networks or
    network-related results and not others

[autograph](https://stocnet.github.io/autograph/) aims to solve these
problems by providing automatic graph drawing for networks in any of the
[manynet](https://stocnet.github.io/manynet/) formats, and automatic
plotting for results from `{stocnet}` packages, including
[migraph](https://stocnet.github.io/migraph/),
[RSiena](https://www.stats.ox.ac.uk/~snijders/siena/), and `{MoNAn}`,
and more.

All you need to do is install the package (loading it last will make
sure its plotting methods are the default), use `set_stocnet_theme()`
(once) to set your preferred theme, and then use `graphr()` to graph
your networks, or `plot()` to plot your results. That’s it\!

## Drawing graphs

[autograph](https://stocnet.github.io/autograph/) includes three
one-line graphing functions with sensible defaults based on the
network’s properties.

First, `graphr()` is used to graph networks in any of the
[manynet](https://stocnet.github.io/manynet/) formats. Because it builds
upon [manynet](https://stocnet.github.io/manynet/), it can graph
networks in any of the [manynet](https://stocnet.github.io/manynet/)
formats, including `network`, `igraph`, `sna`, `tidygraph`, and more.

Second, it includes sensible defaults so that researchers can view their
network’s structure or distribution quickly with a minimum of fuss.
Compare the output from
[autograph](https://stocnet.github.io/autograph/) with a similar default
from [igraph](https://r.igraph.org/):

![Example illustrating differences in default igraph and autograph
graphs](https://www.jameshollway.com/post/manynet/README-layout-comparison-1.png)

[igraph](https://r.igraph.org/) requires the bipartite layout to be
specified, has cumbersome node size defaults for all but the smallest
graphs, and labels also very often need resizing and adjustment to avoid
overlap. Getting this default plot to look good can take a lot of trial
and error, and time. By contrast, `graphr()` recognises the network as
two-mode and uses a bipartite layout by default. It also recognises that
the network contains names for the nodes and prints them vertically so
that they are legible in this layout. Other ‘clever’ features include
automatic node sizing and more.

### More options

All of `graphr()`’s adjustments can be overridden, however… Changing the
size and colors of nodes and ties is as easy as specifying the
function’s relevant argument with a replacement, e.g. `node_color =
"darkblue"` or `node_size = 6`, or indicating from which attribute it
should inherit this information, e.g. `node_color = "Office"` or
`node_size = "Seniority"`.

![Graph illustrating automatic and manual use of node color and
size](https://www.jameshollway.com/post/manynet/README-more-options-1.png)

Legends are added by default when node or tie aesthetics are mapped to
attributes, but can be removed with `show_legend = FALSE`. Since the
[autograph](https://stocnet.github.io/autograph/) builds upon
[ggplot2](https://ggplot2.tidyverse.org), titles, subtitles and, for
plotting, axis labels can all be added on easily, or other elements
(e.g. font size) can be tweaked for a particular output.

### More layouts

`graphr()` can use all the layout algorithms offered by packages such as
[igraph](https://r.igraph.org/),
[ggraph](https://ggraph.data-imaginist.com), and
[graphlayouts](https://github.com/schochastics/graphlayouts).
[autograph](https://stocnet.github.io/autograph/) also offers some
additional layout algorithms for visualising partitions horizontally,
vertically, or concentrically, conforming to configurational
coordinates, or for snapping these layouts to a grid.

![Graphs illustrating different
layouts](https://www.jameshollway.com/post/manynet/README-more-layouts-1.png)

### More networks

The second graph drawing function included, `graphs()`, is used to graph
multiple networks together. This can be useful for ego networks or
network panels. [patchwork](https://patchwork.data-imaginist.com) is
used to help arrange individual plots together, and is used throughout
the package to help arrange plots together informatively.

![Example of graphs() used on longitudinal
data](https://www.jameshollway.com/post/manynet/README-autographs-1.png)

### More time

The third graph drawing function, `grapht()`, is used to visualise
dynamic networks. It uses [gganimate](https://gganimate.com) and
[gifski](https://r-rust.r-universe.dev/gifski) to create a gif that
visualises network changes over time. It really couldn’t be easier.

![Example of grapht() on longitudinal
data](https://www.jameshollway.com/post/manynet/README-autographd-1.gif)

## Generating plots

Since network analysis involves not just drawing graphs,
[autograph](https://stocnet.github.io/autograph/) also provides a
function for plotting results from the analysis or modelling of those
networks. To keep things simple, all users need to remember is a single,
generic function: `plot()`. Method dispatching takes care of the rest,
so you can concentrate on exploring and interpreting your results. Here
are some examples, using goodness-of-fit results from fitting a SAOM in
[RSiena](https://www.stats.ox.ac.uk/~snijders/siena/) and an ERGM in
[ergm](https://statnet.org). (Note that neither the data nor the model
are similar; this is just for illustrative purposes.)

![](reference/figures/README-siena-ergm-gof-1.png)![](reference/figures/README-siena-ergm-gof-2.png)

### Setting a theme

Note that in the above plots, the same colour scheme and fonts were
used. They can be easily changed though.
[autograph](https://stocnet.github.io/autograph/) includes a number of
themes that can be used to style all graphs and plots consistently. And
it is very easy to set a theme. Just type `stocnet_theme()` to see which
is the theme currently set, and to get a list of available themes. Then
enter the chosen theme name in the function to set it. All plots created
using [autograph](https://stocnet.github.io/autograph/) functions will
then use this theme, until you change it again.

``` r
stocnet_theme()
(plot(node_degree(ison_karateka)) + 
plot(tie_betweenness(ison_karateka)))/
(plot(node_in_regular(ison_southern_women, "e")) + 
plot(as_matrix(ison_southern_women),
     membership = node_in_regular(ison_southern_women, "e")))
```

![Themed figures](reference/figures/README-themeset-1.png)

``` r
stocnet_theme("ethz")
(plot(node_degree(ison_karateka)) + 
plot(tie_betweenness(ison_karateka)))/
(plot(node_in_regular(ison_southern_women, "e")) + 
plot(as_matrix(ison_southern_women),
     membership = node_in_regular(ison_southern_women, "e")))
```

![Themed figures](reference/figures/README-themeset-2.png)

There are a range of institutional and topical themes available,
including default, bw, crisp, neon, iheid, ethz, uzh, rug, unibe, oxf,
unige, cmu, iast, hwu, rainbow, with more on the way.

![Institutional
themes](reference/figures/README-theme-opts-1.png)![Institutional
themes](reference/figures/README-theme-opts-2.png)

If your institution or organisation is not included and you would like
it to be, please just raise an issue on Github, along with a link to
your corporate branding or style guide if available, and we will attempt
to add it at the next opportunity.

In sum, while there is a lot of clever defaults and customisation
available, all it takes is three simple functions for your

## Installation

### Stable

The easiest way to install the latest stable version of
[autograph](https://stocnet.github.io/autograph/) is via CRAN. Simply
open the R console and enter:

`install.packages('autograph')`

`library(autograph)` will then load the package and make the data and
tutorials (see below) contained within the package available.

### Development

For the latest development version, for slightly earlier access to new
features or for testing, you may wish to download and install the
binaries from Github or install from source locally. The latest binary
releases for all major OSes – Windows, Mac, and Linux – can be found
[here](https://github.com/stocnet/autograph/releases/latest). Download
the appropriate binary for your operating system, and install using an
adapted version of the following commands:

  - For Windows: `install.packages("~/Downloads/autograph_winOS.zip",
    repos = NULL)`
  - For Mac: `install.packages("~/Downloads/autograph_macOS.tgz", repos
    = NULL)`
  - For Unix: `install.packages("~/Downloads/autograph_linuxOS.tar.gz",
    repos = NULL)`

To install from source the latest main version of
[autograph](https://stocnet.github.io/autograph/) from Github, please
install the [remotes](https://remotes.r-lib.org) package from CRAN and
then:

  - For latest stable version:
    `remotes::install_github("stocnet/autograph")`
  - For latest development version:
    `remotes::install_github("stocnet/autograph@develop")`

### Other sources

Those using Mac computers may also install using Macports:

`sudo port install R-autograph`

## Funding details

Development on this package has been funded by the Swiss National
Science Foundation (SNSF) [Grant
Number 188976](https://data.snf.ch/grants/grant/188976): “Power and
Networks and the Rate of Change in Institutional Complexes” (PANARCHIC).

# Package index

## Theming

Functions for tailoring graphs with themes, scales, and palettes.

<!-- end list -->

  - `stocnet_theme()` `set_stocnet_theme()` : Setting a consistent theme
    for all plots
  - `ag_base()` `ag_highlight()` `ag_positive()` `ag_negative()`
    `ag_qualitative()` `ag_sequential()` `ag_divergent()` `ag_font()` :
    Consistent palette calls
  - `match_color()` `is_dark()` : Matching colors across palettes
  - `scale_fill_iheid()` `scale_colour_iheid()` `scale_color_iheid()`
    `scale_edge_colour_iheid()` `scale_edge_color_iheid()`
    `scale_fill_centres()` `scale_colour_centres()`
    `scale_color_centres()` `scale_edge_colour_centres()`
    `scale_edge_color_centres()` `scale_fill_sdgs()`
    `scale_colour_sdgs()` `scale_color_sdgs()`
    `scale_edge_colour_sdgs()` `scale_edge_color_sdgs()`
    `scale_fill_ethz()` `scale_colour_ethz()` `scale_color_ethz()`
    `scale_edge_colour_ethz()` `scale_edge_color_ethz()`
    `scale_fill_uzh()` `scale_colour_uzh()` `scale_color_uzh()`
    `scale_edge_colour_uzh()` `scale_edge_color_uzh()`
    `scale_fill_rug()` `scale_colour_rug()` `scale_color_rug()`
    `scale_edge_colour_rug()` `scale_edge_color_rug()` : Themed scales
    for further customization

## Plotting methods

Functions for graphing networks and plotting results. `graphr()` graphs
any manynet-compatible class object automagically. `graphs()` and
`grapht()` do the same for multiple networks and dynamic networks,
respectively. `plot()` methods exist for results and other objects for
stocnet packages.

<!-- end list -->

  - `graphr()` : Easily graph networks with sensible defaults
  - `graphs()` : Easily graph a set of networks with sensible defaults
  - `grapht()` : Easily animate dynamic networks with sensible defaults
  - `plot(<node_measure>)` `plot(<tie_measure>)`
    `plot(<network_measures>)` : Plotting logical marks Plotting numeric
    measures
  - `plot(<node_member>)` `plot(<matrix>)` : Plotting categorical
    memberships
  - `plot(<node_motif>)` `plot(<network_motif>)` : Plotting tabular
    motifs
  - `plot(<netlm>)` `plot(<netlogit>)` : Plotting methods for MRQAP
    models
  - `plot(<diff_model>)` `plot(<diffs_model>)` `plot(<learn_model>)` :
    Plotting diffusion models
  - `plot(<network_test>)` : Plotting methods for CUG and QAP tests
  - `plot(<ag_conv>)` `plot(<traces.monan>)` `plot(<ergm>)` : Plotting
    convergence diagnostics
  - `plot(<ag_gof>)` `plot(<gof.stats.monan>)` `plot(<sienaGOF>)`
    `plot(<gof.ergm>)` : Plotting goodness-of-fit results
  - `plot(<selectionTable>)` `plot(<influenceTable>)` : Plotting effects
    interpretation

## Layouts

Functions for laying out the nodes in a graph. Included here are some
improved or additional layouts to those offered in
[igraph](https://r.igraph.org/) and
[ggraph](https://ggraph.data-imaginist.com) by default.

<!-- end list -->

  - `layout_configuration()` `layout_tbl_graph_configuration()`
    `layout_dyad()` `layout_tbl_graph_dyad()` `layout_triad()`
    `layout_tbl_graph_triad()` `layout_tetrad()`
    `layout_tbl_graph_tetrad()` `layout_pentad()`
    `layout_tbl_graph_pentad()` `layout_hexad()`
    `layout_tbl_graph_hexad()` : Layout algorithms based on
    configurational positions
  - `layout_tbl_graph_layered()` : Layered layout
  - `layout_tbl_graph_matching()` : Matching layout
  - `layout_concentric()` `layout_tbl_graph_concentric()`
    `layout_multilevel()` `layout_tbl_graph_multilevel()`
    `layout_lineage()` `layout_tbl_graph_lineage()` `layout_hierarchy()`
    `layout_tbl_graph_hierarchy()` `layout_alluvial()`
    `layout_tbl_graph_alluvial()` `layout_railway()`
    `layout_tbl_graph_railway()` `layout_ladder()`
    `layout_tbl_graph_ladder()` : Layout algorithms based on bi- or
    other partitions
  - `layout_valence()` `layout_tbl_graph_valence()` : Valence-based
    layout

## Results objects from other packages

<!-- end list -->

  - `res_migraph_reg` `res_migraph_test` `res_migraph_diff`
    `res_manynet_diff` `siena_gof` `siena_influence` `siena_selection`
    `monan_conv` `monan_gof` `ergm_res` `ergm_gof` : Precooked results
    for demonstrating plotting

